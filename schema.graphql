type LotteryWinner @entity {
    id: ID!
    index: BigInt!
    winner: Bytes!
    prize: BigInt!
    time: BigInt!
    txHash: String!

    ticket: LotteryTicket!
}

type LotteryTicket @entity {
    id: ID!
    index: BigInt!
    count: BigInt!
    _winner: Bytes!
    _roundCount: BigInt!
    _difficulty: BigInt!
    txHash: String!

    winners: [LotteryWinner!]! @derivedFrom(field: "ticket")
}

type GlobalState @entity {
    id: ID!
    lotteryIndex: BigInt!
    winnerIndex: BigInt!
}
